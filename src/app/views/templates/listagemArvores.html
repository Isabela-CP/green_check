<!DOCTYPE html>
<html>

<head>
  <title>Listagem das √Årvores - Green Check</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

  <!-- Font Awesome para √≠cones -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    body {
      background-color: #E8F5E4;
      /* verde pastel */
      font-family: Arial, Verdana, sans-serif;
      padding-top: 90px;
      /* espa√ßo para navbar fixa */
    }

    h1 {
      color: #3f6c45;
      text-align: center;
      margin-bottom: 40px;
      font-weight: 600;
    }

    /* Navbar verde pastel */
    .navbar {
      background-color: #A8D5A2 !important;
      border-bottom: 2px solid #8BCF8A;
    }

    .navbar-brand,
    .nav-link {
      color: #2d4b31 !important;
      font-weight: bold;
    }

    .nav-link:hover {
      color: #1f351f !important;
    }

    .nav-link.active {
      color: #6b8b6f !important;
      opacity: 0.7;
    }

    /* Tabela estilizada */
    table {
      background-color: #F4FBF2;
      border-radius: 10px;
      overflow: hidden;
    }

    thead {
      background-color: #8BCF8A;
      color: #ffffff;
    }

    tbody tr:hover {
      background-color: #e0f3dc;
    }

    td,
    th {
      text-align: center;
      vertical-align: middle !important;
    }

    a {
      color: #2f6c45;
      font-weight: bold;
    }

    a:hover {
      text-decoration: underline;
    }

    .fa-edit {
      color: #2e7d32;
    }

    .fa-trash {
      color: #c62828;
    }
  </style>
</head>

<body>

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <a class="navbar-brand" href="#">Green Check üåø</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        {% if session.usuario_logado %}
        <li class="nav-item">
          <a class="nav-link" href="/arvores">Listagem de √Årvores</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/inclusaoArvores">Cadastro de √Årvore</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="/consulta">Consulta</a>
        </li>

        <li class="nav-item">
          <a class="nav-link text-danger" href="/logout">Sair</a>
        </li>
        {% endif %}
        {% if not session.usuario_logado %}
        <li class="nav-item">
          <a class="nav-link" href="/">Acesso</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </nav>


  <!-- T√çTULO -->
  <h1>Listagem das √°rvores cadastradas</h1>


  <!-- TABELA -->
  <div class="container">
    <table class="table table-bordered table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Latitude</th>
          <th>Longitude</th>
          <th>Status</th>
          <th>Tipo</th>
          <th>Nome Cient√≠fico</th>
          <th>Altura (m)</th>
          <th>DAP (cm)</th>
          <th>√öltima Vistoria</th>
        </tr>
      </thead>

      <tbody>
        {% for arvore in arvores %}
        <tr>
          <td>{{ arvore.id }}</td>
          <td>{{ arvore.latitude }}</td>
          <td>{{ arvore.longitude }}</td>
          <td class="font-weight-bold {% if arvore.status == 'saudavel' %}text-success{% elif arvore.status == 'doente' %}text-warning{% elif arvore.status == 'em risco' %}text-danger{% elif arvore.status == 'cortada' %}text-secondary{% elif arvore.status == 'corte programado' %}text-info{% endif %}">
            {% if arvore.status == 'saudavel' %}Saud√°vel
            {% elif arvore.status == 'doente' %}Doente
            {% elif arvore.status == 'em risco' %}Em Risco
            {% elif arvore.status == 'cortada' %}Cortada
            {% elif arvore.status == 'corte programado' %}Corte Programado
            {% else %}{{ arvore.status }}{% endif %}
          </td>
          <td>{{ arvore.tipo }}</td>
          <td>{{ arvore.nome_cientifico or '-' }}</td>
          <td>{{ arvore.altura }}</td>
          <td>{{ arvore.dap }}</td>
          <td>{{ arvore.ultima_vistoria or '-' }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- SCRIPTS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

  <script>
    // Destacar o link da p√°gina atual
    (function() {
      const currentPath = window.location.pathname;
      const navLinks = document.querySelectorAll('.nav-link');
      
      navLinks.forEach(link => {
        const href = link.getAttribute('href');
        if (href && (currentPath === href || currentPath.startsWith(href + '/'))) {
          link.classList.add('active');
        }
      });
    })();
  </script>

</body>

</html>

